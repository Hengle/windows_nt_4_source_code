!if "$(NTMAKEENV)" != "" 
#
# DO NOT EDIT THIS FILE!!!  Edit .\sources. if you want to add a new source
# file to this component.  This file merely indirects to the real make file
# that is shared by all the components of NT OS/2
#
!INCLUDE $(NTMAKEENV)\makefile.def


!else
###############################################################################
#
#  Microsoft Confidential
#  Copyright (C) Microsoft Corporation 1995
#  All Rights Reserved.
#
#  Secure File Verification library makefile
#
###############################################################################


####################
# macro definitions
####################

ROOT              = ..\..
BASE_NAME         = mssfchek

!ifndef BUILD
BUILD             = debug
!endif

LIBS              = kernel32.lib gdi32.lib user32.lib
LIBS              = $(LIBS) libcmt.lib

EXT_C_SWITCHES    = -Gz -W3 -DRSA32

C_SRC             = mssfchek.c \
                    pubkey.c

C_SRC             = $(C_SRC:  = )

C_OBJ             = $(DEST_DIR)\mssfchek.obj \
                    $(DEST_DIR)\pubkey.obj

C_OBJ             = $(C_OBJ:  = )

SRC               = $(C_SRC)


##################
# override target
##################

override: mytarget


#################
# common headers
#################

!include $(ROOT)\ohare\ohare.mk
!include $(ROOT)\ohare\win32.mk


##############
# build rules
##############

#
# Dummy build rules for target override.
#

!if "$(BUILD)" == "debug" || "$(BUILD)" == "retail"
mytarget: mylib
!else
mytarget: targets
!endif

mylib: $(DEST_DIR)\$(OUT_NAME).lib

#
# Add GUID object file to import library.
#

$(DEST_DIR)\$(OUT_NAME).lib: $(OBJ_LIST)
   lib -out:$@ $(OBJ_LIST)

!endif    # !if NTMAKEENV
